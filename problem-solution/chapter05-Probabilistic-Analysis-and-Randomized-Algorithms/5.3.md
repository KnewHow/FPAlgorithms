# 5.3

## 5.3-1

*  Q
Professor Marceau objects to the loop invariant used in the proof of Lemma 5.5. He questions whether it is true prior to the first iteration. He reasons that we could just as easily declare that an empty subarray contains no 0-permutations. Therefore, the probability that an empty subarray contains a 0-permutation should be 0, thus invalidating the loop invariant prior to the first iteration. Rewrite the procedure RANDOMIZE-IN-PLACE so that its associated loop invariant applies to a nonempty subarray prior to the first iteration, and modify the proof of Lemma 5.5 for your procedure.

*  A
   *  Initialization
      Before first loop, the i=2, the probability contain the permutation `A[1,1]` is `(n-1)!/n!`, statisfy the `(n-i+1)!/n!`
  *  Maintenance
     Suppose before `ith` loop, the probability containning the permutation `A[1, i-1]` is `(n-i+1)!/n!`, after `ith` loop, the probability containning the permutation `A[1,i]` is `Pr{E1 And E2} = Pr{E1|E2}Pr{E2} = (n-1)!/n!`
  *  Termination
     when `i=n+1`, the probability containning the permutation `A[1,n]` is `1/n!`

 So the algorithms is right.
